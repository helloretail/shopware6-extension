(function(){var e,t,n,i,r,l,a,o,s={226:function(){},834:function(){},856:function(){},844:function(){},980:function(){let{Component:e}=Shopware;e.override("sw-icon-deprecated",{beforeMount(){"brand-hello-retail"===this.name&&(this.iconSvgData=`<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                                 width="24.000000pt" height="24.000000pt" viewBox="0 0 24.000000 24.000000">

                                <g transform="translate(0.000000,24.000000) scale(0.100000,-0.100000)"
                                fill="#758CA3" fill-rule="evenodd" stroke="none">
                                <path d="M75 231 c-45 -20 -70 -60 -70 -112 0 -42 5 -53 33 -81 28 -28 39 -33
                                82 -33 43 0 54 5 82 33 28 28 33 39 33 82 0 42 -5 54 -31 81 -33 33 -92 46
                                -129 30z m95 -95 c0 -38 -21 -66 -50 -66 -10 0 -26 7 -34 16 -36 35 -7 84 50
                                84 32 0 34 -2 34 -34z"/>
                                </g>
                                </svg>`)}})},26:function(e,t,n){Shopware.Component.register("sw-cms-block-hello-retail",()=>n.e(765).then(n.bind(n,765))),Shopware.Component.register("sw-cms-preview-hello-retail",()=>n.e(219).then(n.bind(n,219))),Shopware.Service("cmsService").registerCmsBlock({name:"hello-retail",label:"sw-cms.blocks.commerce.hello-retail.label",category:"commerce",component:"sw-cms-block-hello-retail",previewComponent:"sw-cms-preview-hello-retail",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{content:{type:"text",default:{config:{content:{source:"static",value:"Enter Recommendation ID Here"}}}}}})},634:function(){let{Application:e,Classes:t}=Shopware,n=t.ApiService;class i extends n{constructor(e,t,n="helret/hello-retail"){super(e,t,n),this.name="helloRetailService"}getTypeId(){return"44f7e183909376bb5824abf830f4b879"}generateFeed(e,t){return this.httpClient.post(`/${this.getApiBasePath()}/generateFeed/${e}/${t}`,{},{headers:this.getBasicHeaders()}).then(e=>n.handleResponse(e))}getExportEntities(){return this.httpClient.get(`/${this.getApiBasePath()}/getExportEntities`,{headers:this.getBasicHeaders()}).then(e=>n.handleResponse(e))}}e.addServiceProvider("helloRetailService",t=>new i(e.getContainer("init").httpClient,t.loginService))},630:function(){let{Application:e}=Shopware;e.addServiceProvider("helloRetailTemplateService",()=>({registerExportTemplate:n,getExportTemplateByName:i,getExportTemplateRegistry:r}));let t={};function n(e){return t[e.name]=e,!0}function i(e){return t[e]}function r(){return t}},64:function(e,t,n){var i=n(226);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(346).Z("18b41916",i,!0,{})},800:function(e,t,n){var i=n(834);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(346).Z("2a88224a",i,!0,{})},262:function(e,t,n){var i=n(856);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(346).Z("08182645",i,!0,{})},831:function(e,t,n){var i=n(844);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(346).Z("18246a7c",i,!0,{})},346:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},r=0;r<t.length;r++){var l=t[r],a=l[0],o={id:e+":"+r,css:l[1],media:l[2],sourceMap:l[3]};i[a]?i[a].parts.push(o):n.push(i[a]={id:a,parts:[o]})}return n}n.d(t,{Z:function(){return m}});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},a=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,s=0,c=!1,d=function(){},p=null,h="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,r){c=n,p=r||{};var a=i(e,t);return f(a),function(t){for(var n=[],r=0;r<a.length;r++){var o=l[a[r].id];o.refs--,n.push(o)}t?f(a=i(e,t)):a=[];for(var r=0;r<n.length;r++){var o=n[r];if(0===o.refs){for(var s=0;s<o.parts.length;s++)o.parts[s]();delete l[o.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],i=l[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(b(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(b(n.parts[r]));l[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function b(e){var t,n,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(c)return d;i.parentNode.removeChild(i)}if(u){var r=s++;t=w.bind(null,i=o||(o=g()),r,!1),n=w.bind(null,i,r,!0)}else t=_.bind(null,i=g()),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){i?(i.css!==e.css||i.media!==e.media||i.sourceMap!==e.sourceMap)&&t(e=i):n()}}var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var l=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(l,a[t]):e.appendChild(l)}}function _(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),p.ssrId&&e.setAttribute(h,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},c={};function d(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={id:e,exports:{}};return s[e](n,n.exports,d),n.exports}d.m=s,d.d=function(e,t){for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.f={},d.e=function(e){return Promise.all(Object.keys(d.f).reduce(function(t,n){return d.f[n](e,t),t},[]))},d.u=function(e){return"static/js/"+({219:"717c3f9b63e408ce3810",765:"b116288f12012a622fe9"})[e]+".js"},d.miniCssF=function(e){return"static/css/"+(0===e?"helret-hello-retail":e)+".css"},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="administration:",d.l=function(n,i,r,l){if(e[n]){e[n].push(i);return}if(void 0!==r)for(var a,o,s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var p=s[c];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+r){a=p;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,d.nc&&a.setAttribute("nonce",d.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[i];var h=function(t,i){a.onerror=a.onload=null,clearTimeout(u);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(function(e){return e(i)}),t)return t(i)},u=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),o&&document.head.appendChild(a)},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="bundles/helrethelloretail/",n=function(e,t,n,i){var r=document.createElement("link");return r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=function(l){if(r.onerror=r.onload=null,"load"===l.type)n();else{var a=l&&("load"===l.type?"missing":l.type),o=l&&l.target&&l.target.href||t,s=Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=o,r.parentNode.removeChild(r),i(s)}},r.href=t,document.head.appendChild(r),r},i=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=n[i],l=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(l===e||l===t))return r}for(var a=document.getElementsByTagName("style"),i=0;i<a.length;i++){var r=a[i],l=r.getAttribute("data-href");if(l===e||l===t)return r}},r={0:0},d.f.miniCss=function(e,t){r[e]?t.push(r[e]):0!==r[e]&&({765:1})[e]&&t.push(r[e]=new Promise(function(t,r){var l=d.miniCssF(e),a=d.p+l;if(i(l,a))return t();n(e,a,t,r)}).then(function(){r[e]=0},function(t){throw delete r[e],t}))},l={0:0},d.f.j=function(e,t){var n=d.o(l,e)?l[e]:void 0;if(0!==n){if(n)t.push(n[2]);else{var i=new Promise(function(t,i){n=l[e]=[t,i]});t.push(n[2]=i);var r=d.p+d.u(e),a=Error();d.l(r,function(t){if(d.o(l,e)&&(0!==(n=l[e])&&(l[e]=void 0),n)){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",a.name="ChunkLoadError",a.type=i,a.request=r,n[1](a)}},"chunk-"+e,e)}}},a=function(e,t){var n,i,r=t[0],a=t[1],o=t[2],s=0;if(r.some(function(e){return 0!==l[e]})){for(n in a)d.o(a,n)&&(d.m[n]=a[n]);o&&o(d)}for(e&&e(t);s<r.length;s++)i=r[s],d.o(l,i)&&l[i]&&l[i][0](),l[i]=0},(o=window["webpackJsonpPluginhelret-hello-retail"]=window["webpackJsonpPluginhelret-hello-retail"]||[]).forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o)),window?.__sw__?.assetPath&&(d.p=window.__sw__.assetPath+"/bundles/helrethelloretail/"),function(){"use strict";d(634),d(630),Shopware.Service("helloRetailTemplateService").registerExportTemplate({name:"category",headerTemplate:'<?xml version="1.0" ?>\n<categories totalCategoriesCount="{{ categorysTotal }}" updatedAt="{{ updatedAt }}">\n'.trim(),bodyTemplate:"<category>\n    <title>{% if category.name %}{{ category.name }}{% else %}{{ category.translated.name }}{% endif %}</title>\n    <url>{{ seoUrl('frontend.navigation.page', {'navigationId': category.id}) }}</url>\n    <description>{% if category.description %}{{ category.description }}{% else %}{{ category.translated.description }}{% endif %}</description>\n    <keywords>{% if category.translated.keywords %}{% for keyword in category.translated.keywords %}{{ keyword.keyword }},{% endfor %}{% endif %}</keywords>\n    <hierarchy>\n        {% for breadCrumb in category.getBreadCrumb %}\n            <category>{{ breadCrumb }}</category>\n        {% endfor %}\n    </hierarchy>\n    {% if products is not empty %}\n        <categoryProducts>\n            {% for product in products %}\n                {% if product and product.productNumber is defined %}\n                    <product>\n                        <url>{{ seoUrl('frontend.detail.page', {'productId': product.id}) }}</url>\n                        <productNumber>{{ product.productNumber }}</productNumber>\n                        <title>{% if product.name %}{{ product.name }}{% else %}{{ product.translated.name }}{% endif %}</title>\n                    </product>\n                {% endif %}\n            {% endfor %}\n        </categoryProducts>\n    {% endif %}\n</category>\n",footerTemplate:"</categories>\n".trim(),file:"categories.xml",associations:["products"]}),Shopware.Service("helloRetailTemplateService").registerExportTemplate({name:"product",headerTemplate:'<?xml version="1.0" ?>\n<products totalProductsCount="{{ productsTotal }}" updatedAt="{{ updatedAt }}">\n'.trim(),bodyTemplate:"<product>\n    <url>{{ seoUrl('frontend.detail.page', {'productId': product.id}) }}</url>\n    <title>{% if product.name %}{{ product.name }}{% else %}{{ product.translated.name }}{% endif %}</title>\n    <ean>{{ product.ean }}</ean>\n    <sku>{{ product.productNumber }}</sku>\n    {% if product.cover %}\n        {% set thumbnail = product.cover.media.thumbnails.elements|filter(img => img.width == 400)|first %}\n        <imgurl>{% if thumbnail %}{{ thumbnail.url }}{% else %}{{ product.cover.media.url }}{% endif %}</imgurl>\n    {% else %}\n        <imgurl/>\n    {% endif %}\n    {% if product.price.extensions is not empty %}\n        {% if product.price.extensions.calculatedPrice %}\n            {% set price = product.price.extensions.calculatedPrice %}\n        {% endif %}\n        {% if product.price.extensions is not empty %}\n            {% if product.price.extensions.calculatedPrices %}\n                {% if product.price.extensions.calculatedPrices.count > 0 %}\n                    {% set price = product.price.extensions.calculatedPrices.first %}\n                {% endif %}\n            {% endif %}\n        {% endif %}\n        <price>{{ price.unitPrice }}</price>\n    {% else %}\n        {% set prices = product.prices.elements|first %}\n        <price>{% if prices %}{{ prices.price.elements|first.gross }}{% else %}{{ product.price.elements|first.gross }}{% endif %}</price>\n    {% endif %}\n    {% if product.cheapestPrice is not empty %}\n        <oldPrice>{% if product.cheapestPrice %}{% if product.cheapestPrice.price.elements|first.listPrice is not null %}{{ product.cheapestPrice.price.elements|first.listPrice.gross|round(2, 'ceil') }}{% else %}{{ product.cheapestPrice.price.elements|first.gross }}{% endif %}{% else %}{{ product.price.elements|first.gross }}{% endif %}</oldPrice>\n    {% else %}\n        <oldPrice>{% if product.price.elements|first.listPrice %}{{ product.price.elements|first.listPrice.gross }}{% endif %}</oldPrice>\n    {% endif %}\n    <productnumber>{{ product.productNumber }}</productnumber>\n    <hierarchies>\n        {% if product.categories %}\n            {% for category in product.categories.elements %}\n                <hierarchy>\n                    {% for breadCrumb in category.getBreadCrumb %}\n                        <category>{{ breadCrumb }}</category>\n                    {% endfor %}\n                </hierarchy>\n            {% endfor %}\n        {% endif %}\n    </hierarchies>\n\n    {% if product.extensions.properties %}\n        <properties>\n            {% for key, value in product.extensions.properties %}\n                <property>\n                    <name>{{ key }}</name>\n                    <options>\n                        {% for option in value %}\n                            <option>{{ option.name }}</option>\n                        {% endfor %}\n                    </options>\n                </property>\n            {% endfor %}\n        </properties>\n    {% endif %}\n\n    <keywords>{% if product.searchKeywords %}{% for keyword in product.searchKeywords.elements %}{{ keyword.keyword }},{% endfor %}{% endif %}</keywords>\n    {% set color = product.properties.elements|filter(property => property.group.name == 'Color')|first %}\n    <color>{% if color %}{{ color.name }}{% endif %}</color>\n    {% set gender = product.properties.elements|filter(property => property.group.name == 'Gender')|first %}\n    <gender>{% if gender %}{{ gender.name }}{% endif %}</gender>\n    <instock>{% if product.availableStock > 0 %}true{% else %}false{% endif %}</instock>\n    <description>{{ product.description }}</description>\n    <brand>{% if product.manufacturer %}{{ product.manufacturer.name }}{% endif %}</brand>\n</product>\n",footerTemplate:"</products>\n".trim(),file:null,associations:["prices","categories","seoUrls","searchKeywords","manufacturer","media","cover","product.parent","properties.group","cheapestPrice"]}),Shopware.Service("helloRetailTemplateService").registerExportTemplate({name:"order",headerTemplate:'<?xml version="1.0" ?>\n<orders totalOrdersCount="{{ ordersTotal }}"  updatedAt="{{ updatedAt }}">\n'.trim(),bodyTemplate:"<order>\n    <id>{{ order.id }}</id>\n    <orderNumber>{{ order.orderNumber }}</orderNumber>\n    <paymentStatus>\n        {% if order.transactions.last.stateMachineState.translated is defined %}\n            {{ order.transactions.last.stateMachineState.translated.name }}\n        {% endif %}\n    </paymentStatus>\n    <deliveryStatus>\n        {% if order.deliveries.first.stateMachineState.translated is defined %}\n            {{ order.deliveries.first.stateMachineState.translated.name }}\n        {% endif %}\n    </deliveryStatus>\n    <orderStatus>\n        {% if order.stateMachineState.translated is defined %}\n            {{ order.stateMachineState.translated.name }}\n        {% endif %}\n    </orderStatus>\n    {% if order.lineItems %}\n        <orderProducts>\n            {% for lineItem in order.lineItems.elements %}\n                {% if lineItem.product and lineItem.payload.productNumber is defined %}\n                    <product>\n                        <id>{{ lineItem.productId }}</id>\n                        <url>{{ seoUrl('frontend.detail.page', {'productId': lineItem.productId}) }}</url>\n                        <productNumber>{{ lineItem.payload.productNumber }}</productNumber>\n                        <quantity>{{ lineItem.quantity }}</quantity>\n                        <price>{{ lineItem.unitPrice }}</price>\n                        {% if lineItem.price.calculatedTaxes is not empty %}\n                            <priceNoTax>{{ lineItem.unitPrice - lineItem.price.calculatedTaxes.first.tax }}</priceNoTax>\n                        {% endif %}\n                    </product>\n                {% endif %}\n            {% endfor %}\n        </orderProducts>\n    {% endif %}\n    <shippingPrice>{{ order.shippingTotal }}</shippingPrice>\n    <createdDate>{{ order.orderDateTime|date('Y-m-d H:i:s') }}</createdDate>\n    <CreatedDateWithoutTime>{{ order.orderDateTime|date('Y-m-d') }}</CreatedDateWithoutTime>\n    <total>{{ order.amountTotal }}</total>\n    <email>{{ order.orderCustomer.email }}</email>\n    <paymentMethod>\n        {% if order.transactions.last.paymentMethod.translated is defined %}\n            {{ order.transactions.last.paymentMethod.translated.name }}\n        {%  endif %}\n    </paymentMethod>\n    <shippingMethod>\n        {% if order.deliveries.first.shippingMethod.translated is defined %}\n            {{ order.deliveries.first.shippingMethod.translated.name }}\n        {%  endif %}\n    </shippingMethod>\n</order>\n",footerTemplate:"</orders>\n".trim(),file:null,associations:["lineItems.product","transactions","transactions.stateMachineState","transactions.paymentMethod","deliveries","deliveries.shippingMethod"]}),d(980);let{Component:e}=Shopware;e.override("sw-sales-channel-detail",{template:'{% block sw_sales_channel_detail_actions_save %}\n    <sw-button-process\n        v-show="isHelloRetail"\n        v-tooltip.bottom="tooltipForceGenerate"\n        :isLoading="isLoading || isForceGenerating"\n        :disabled="forceGenerateDisabled || !allowSaving || isLoading"\n        variant="ghost"\n        v-model="forceSaveSuccessful"\n        @click.prevent="forceGenerateFeedsModal = true">\n        {{ $tc(\'helret-hello-retail.detail.buttonForceGenerate\') }}\n    </sw-button-process>\n    <sw-confirm-modal\n        v-if="forceGenerateFeedsModal"\n        @confirm="forceGenerateFeeds"\n        @close="forceGenerateFeedsModal = false"\n        @cancel="forceGenerateFeedsModal = false"\n        :title="$tc(\'helret-hello-retail.detail.forceGenerate.confirmTitle\')"\n        :text="$tc(\'helret-hello-retail.detail.forceGenerate.confirmText\')"\n        type="yesno"\n    ></sw-confirm-modal>\n\n    {% parent %}\n{% endblock %}\n\n{% block sw_sales_channel_detail_content_tab_product_comparison %}\n    {% parent %}\n\n    <sw-tabs-item\n        v-if="isHelloRetail && !isLoading"\n        :route="{ name: \'sw.sales.channel.detail.hello-retail-comparison\', params: { id: $route.params.id } }"\n        :title="$tc(\'sw-sales-channel.detail.tabProductComparison\')">\n        {{ $tc(\'sw-sales-channel.detail.tabProductComparison\') }}\n    </sw-tabs-item>\n{% endblock %}\n',inject:["helloRetailService","salesChannelService"],data(){return{forceGenerateFeedsModal:!1,isForceGenerating:!1,forceSaveSuccessful:!1}},computed:{isHelloRetail(){return this.salesChannel&&this.salesChannel.typeId===this.helloRetailService.getTypeId()},tooltipForceGenerate(){return this.allowSaving?{message:this.forceGenerateDisabled?!this.salesChannel||this.salesChannel.active?this.$tc("helret-hello-retail.detail.forceGenerateTooltipSave"):this.$tc("helret-hello-retail.detail.forceGenerateTooltipActivate"):this.$tc("helret-hello-retail.detail.forceGenerateTooltip"),appearance:"light",showOnDisabledElements:!0}:{message:this.$tc("sw-privileges.tooltip.warning"),disabled:this.allowSaving,showOnDisabledElements:!0}},forceGenerateDisabled(){return!this.salesChannel||!this.salesChannel.active||this.salesChannelRepository.hasChanges(this.salesChannel)}},methods:{forceGenerateFeeds(){this.forceGenerateFeedsModal=!1,this.isForceGenerating=!0,this.helloRetailService.getExportEntities().then(async e=>{if(!Object.keys(e.feeds).length){this.createNotificationInfo({message:this.$tc("helret-hello-retail.detail.forceGenerate.noFeeds")});return}this.createNotificationInfo({message:this.$tc("helret-hello-retail.save.info",0,{feedCount:Object.keys(e.feeds).length})});let t=Object.keys(e.feeds).map(e=>this.helloRetailService.generateFeed(this.salesChannel.id,e).then(e=>{e.error?this.createNotificationError({message:e.message}):this.createNotificationSuccess({message:e.message})}));await Promise.all(t).then(()=>{this.forceSaveSuccessful=!0})}).finally(()=>{this.isForceGenerating=!1})}}});var t='{% block sw_sales_channel_detail_base_general %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n    <sw-card\n        v-else-if="salesChannel"\n        position-identifier="sw-sales-channel-detail-base-general"\n        :is-loading="isLoading"\n        :title="$tc(\'sw-sales-channel.detail.titleGeneralSettings\')"\n        class="hello-retail-detail-general">\n        {% block hello_retail_detail_general %}\n            <sw-container columns="2fr 1fr" gap="0px 15px">\n                {% block sw_sales_channel_detail_base_general_name %}\n                    <sw-text-field\n                        v-model:value="salesChannel.name"\n                        type="text"\n                        validation="required"\n                        required\n                        :error="salesChannelNameError"\n                        :placeholder="placeholder(salesChannel, \'name\', $tc(\'sw-sales-channel.detail.placeholderName\'))"\n                        :label="$tc(\'sw-sales-channel.detail.labelInputName\')">\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block sw_sales_channel_detail_base_general_input_active %}\n                    <sw-switch-field\n                        v-model:value="salesChannel.active"\n                        :label="$tc(\'sw-sales-channel.detail.labelInputActive\')"\n                        bordered>\n                    </sw-switch-field>\n                {% endblock %}\n            </sw-container>\n\n            <sw-container columns="1fr 1fr" gap="0px 15px" class="storefront-container">\n                {% block sw_sales_channel_detail_base_general_storefront %}\n                    <sw-entity-single-select\n                        ref="storefrontSalesChannelId"\n                        v-model:value="salesChannel.configuration.storefrontSalesChannelId"\n                        :label="$tc(\'helret-hello-retail.sales-channel-types.base.storefront\')"\n                        :criteria="salesChannelCriteria"\n                        labelProperty="name"\n                        valueProperty="id"\n                        entity="sales_channel"\n                        required\n                        @update:value="onStorefrontSelectionChange"></sw-entity-single-select>\n                {% endblock %}\n\n                {% block sw_sales_channel_detail_base_general_storefront_domain %}\n                    <sw-entity-single-select\n                        v-model:value="salesChannel.configuration.salesChannelDomainId"\n                        required\n                        :label="$tc(\'helret-hello-retail.sales-channel-types.base.storefrontDomain\')"\n                        :criteria="storefrontSalesChannelDomainCriteria"\n                        labelProperty="url"\n                        valueProperty="id"\n                        entity="sales_channel_domain"\n                        :disabled="!salesChannel.configuration.storefrontSalesChannelId"\n                    ></sw-entity-single-select>\n                {% endblock %}\n            </sw-container>\n\n            <sw-container>\n                {% block sw_sales_channel_detail_base_general_feed_directory %}\n                    <sw-text-field\n                        :value="salesChannel.configuration.feedDirectory"\n                        :label="$tc(\'helret-hello-retail.sales-channel-types.base.feedDirectory\')"\n                        :copyable="true"\n                        disabled\n                    ></sw-text-field>\n                {% endblock %}\n            </sw-container>\n\n            <sw-container columns="2fr 1fr" gap="0px 15px">\n                {% block sw_sales_channel_detail_base_general_auth %}\n                    <sw-text-field\n                            v-model:value="salesChannel.configuration.authToken"\n                            :label="$tc(\'helret-hello-retail.sales-channel-types.base.authToken\')"\n                            :copyable="true"\n                            disabled\n                    ></sw-text-field>\n                {% endblock %}\n\n                {% block sw_sales_channel_detail_base_general_generate %}\n                    <sw-button-process\n                            class="custom-btn-auth-gen"\n                            variant="primary"\n                            @click="generateAuthToken"\n                    >\n                        {{ $tc(\'helret-hello-retail.sales-channel-types.base.buttonGenerateAuthToken\') }}\n                    </sw-button-process>\n                {% endblock %}\n            </sw-container>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n\n{# Feed list #}\n{% block sw_sales_channel_detail_base_general_input_product_comparison_settings %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n    <sw-card\n        v-else-if="salesChannel.configuration && salesChannel.configuration.feeds"\n        :isLoading="isLoading || isEntitiesLoading"\n        :title="$tc(\'helret-hello-retail.detail.titleFeedCard\')">\n        {% block hello_retail_detail_feeds %}\n            <template\n                    v-for="feed in getFeedList"\n                    :key="feed">\n                <sw-text-field\n                        :value="getFeedUrl(feed)"\n                        disabled\n                        :placeholder="placeholder(salesChannel, `configuration.feeds.${feed}.file`, $tc(\'helret-hello-retail.detail.placeholderFeedLocation\'))"\n                        :label="$tc(`helret-hello-retail.detail.feeds.${feed}Title`)"\n                        :copyable="true">\n                </sw-text-field>\n            </template>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n\n\n{# Override, to only show parent data if it isn\'t HelloRetail #}\n{% block sw_sales_channel_shipping_payment %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n\n{% block sw_sales_channel_detail_base_options_hreflang %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n\n{% block sw_sales_channel_detail_base_options_domains %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n\n{% block sw_sales_channel_detail_base_general_input_product_comparison_storefront %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n\n{% block sw_sales_channel_detail_base_options_api %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n\n{% block sw_sales_channel_detail_base_options_status %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n\n{% block sw_sales_channel_detail_custom_field_sets %}\n    <template v-if="!isHelloRetail">{% parent %}</template>\n{% endblock %}\n';let{Component:n}=Shopware;n.override("sw-sales-channel-create-base",{template:t}),d(831);let{Component:i,Utils:r}=Shopware,{Criteria:l}=Shopware.Data;i.override("sw-sales-channel-detail-base",{template:t,inject:["helloRetailService"],data(){return{isEntitiesLoading:!1,storefrontDomainUrl:"",exportFeeds:null}},computed:{isHelloRetail(){return this.salesChannel&&this.salesChannel.typeId===this.helloRetailService.getTypeId()},getFeedList(){return this.exportFeeds?Object.keys(this.exportFeeds).sort((e,t)=>e.localeCompare(t)):{}},storefrontSalesChannelDomainCriteria(){if(!this.isHelloRetail)return this.$super("storefrontSalesChannelDomainCriteria");let e=new l(1,25);return e.addFilter(l.equals("salesChannelId",this.salesChannel.configuration.storefrontSalesChannelId)),e},salesChannelCriteria(){let e=this.storefrontSalesChannelCriteria;return e.getAssociation("domains").setLimit(1),e}},created(){this.$emit("invalid-file-name",!0),this.initHelloRetailConfiguration(),Promise.all([this.getStorefrontDomain(),this.loadFeedEntities()]).finally(()=>this.$emit("valid-file-name",!0))},methods:{createCategoryCollections(){this.isHelloRetail||this.$super("createCategoryCollections")},generateAuthToken(){this.salesChannel.configuration.authToken="tok_sw_"+r.createId()},initHelloRetailConfiguration(){this.salesChannel.configuration||(this.salesChannel.configuration={}),this.salesChannel.configuration.feedDirectory||(this.salesChannel.configuration.feedDirectory=r.createId()),this.salesChannel.configuration.storefrontSalesChannelId||(this.salesChannel.configuration.storefrontSalesChannelId=null),this.salesChannel.configuration.salesChannelDomainId||(this.salesChannel.configuration.salesChannelDomainId=null),this.salesChannel.configuration.authToken||(this.salesChannel.configuration.authToken="tok_sw_"+r.createId())},loadFeedEntities(){return this.isEntitiesLoading=!0,this.helloRetailService.getExportEntities().then(e=>{this.exportFeeds=e.feeds}).then(()=>{let e={};this.exportFeeds&&Object.keys(this.exportFeeds).length?Object.entries(this.exportFeeds).forEach(([t,n])=>{e[t]={file:n.file,name:n.feed,headerTemplate:null,bodyTemplate:null,footerTemplate:null}}):Object.keys(e=this.helloRetailTemplateService.getExportTemplateRegistry()).forEach(t=>{e[t].headerTemplate=null,e[t].bodyTemplate=null,e[t].footerTemplate=null}),this.salesChannel.configuration.feeds||this.$set(this.salesChannel,"configuration",{...this.salesChannel.configuration,feeds:e})}).finally(()=>{this.isEntitiesLoading=!1})},async getStorefrontDomain(){this.salesChannel.configuration.salesChannelDomainId&&(this.storefrontDomainUrl=(await this.globalDomainRepository.get(this.salesChannel.configuration.salesChannelDomainId,Shopware.Context.api))?.url)},getFeedUrl(e){let t=this.exportFeeds[e]||this.salesChannel.configuration.feeds[e]||!1;if(!t||null===t.file)return"";let{feedDirectory:n,salesChannelDomainId:i}=this.salesChannel.configuration;if(!n||!i)return"";let r=`/hello-retail/${n}/${t.file}`;return this.storefrontDomainUrl+r},onStorefrontSelectionChange(e,t){if(!this.isHelloRetail){this.$super("onStorefrontSelectionChange",e,t);return}e&&(this.salesChannel.languageId=t.languageId,this.salesChannel.currencyId=t.currencyId,this.salesChannel.paymentMethodId=t.paymentMethodId,this.salesChannel.shippingMethodId=t.shippingMethodId,this.salesChannel.countryId=t.countryId,this.salesChannel.navigationCategoryId=t.navigationCategoryId,this.salesChannel.navigationCategoryVersionId=t.navigationCategoryVersionId,this.salesChannel.customerGroupId=t.customerGroupId,this.storefrontDomainUrl=t.domains.first().url,this.$set(this.salesChannel,"configuration",{...this.salesChannel.configuration,salesChannelDomainId:t.domains.first().id}),this.salesChannel.accessKey||this.onGenerateKeys())}}}),d(262);let{Component:a,Mixin:o}=Shopware;a.register("sw-sales-channel-detail-hello-retail-comparison",{template:'{% block sw_sales_channel_detail_base %}\n    <div class="sw-sales-channel-detail-hello-retail-comparison">\n        <sw-card\n            key="edit"\n            position-identifier="sw-sales-channel-detail-hello-retail-comparison"\n            :is-loading="isLoading || isEntitiesLoading">\n\n            {# Type selection #}\n            <sw-single-select\n                :label="$tc(\'helret-hello-retail.comparison.select\')"\n                :isLoading="isLoading"\n                :options="getFeedOptions()"\n                v-model:value="feedType"\n                :disabled="!getFeedOptions().length"\n            ></sw-single-select>\n\n            {# Header #}\n            <sw-container v-if="getFeedOptions().length">\n                {% block sw_sales_channel_detail_product_comparison_input_header %}\n                    <sw-inherit-wrapper\n                        v-model:value="getConfiguration.headerTemplate"\n                        :inherited-value="getInheritValue(\'headerTemplate\')"\n                        :label="$tc(\'sw-sales-channel.detail.productComparison.inputHeaderLabel\')">\n                        <template #content="{ currentValue, updateCurrentValue, isInherited }">\n                            <sw-code-editor\n                                :value="currentValue"\n                                :disabled="!acl.can(\'sales_channel.editor\')"\n                                :completer-function="outerCompleterFunctionHeader"\n                                :editor-config="editorConfig"\n                                completion-mode="entity"\n                                mode="twig"\n                                :soft-wraps="true"\n                                :set-focus="false"\n                                @input="updateCurrentValue"\n                            ></sw-code-editor>\n                        </template>\n                    </sw-inherit-wrapper>\n                {% endblock %}\n\n                {# Body #}\n                {% block sw_sales_channel_detail_product_comparison_input_body %}\n                    <sw-inherit-wrapper\n                        v-model:value="getConfiguration.bodyTemplate"\n                        :inherited-value="getInheritValue(\'bodyTemplate\')"\n                        :label="$tc(\'sw-sales-channel.detail.productComparison.inputBodyLabel\')">\n                        <template #content="{ currentValue, updateCurrentValue, isInherited }">\n                            <sw-code-editor\n                                :value="currentValue"\n                                :disabled="!acl.can(\'sales_channel.editor\')"\n                                :completer-function="outerCompleterFunctionBody"\n                                :editor-config="editorConfig"\n                                completion-mode="entity"\n                                mode="twig"\n                                :soft-wraps="true"\n                                :set-focus="false"\n                                @input="updateCurrentValue"\n                            ></sw-code-editor>\n                        </template>\n                    </sw-inherit-wrapper>\n                {% endblock %}\n\n                {# Footer #}\n                {% block sw_sales_channel_detail_product_comparison_input_footer %}\n                    <sw-inherit-wrapper\n                        v-model:value="getConfiguration.footerTemplate"\n                        :inherited-value="getInheritValue(\'footerTemplate\')"\n                        :label="$tc(\'sw-sales-channel.detail.productComparison.inputFooterLabel\')">\n                        <template #content="{ currentValue, updateCurrentValue, isInherited }">\n                            <sw-code-editor\n                                :value="currentValue"\n                                :disabled="!acl.can(\'sales_channel.editor\')"\n                                :completer-function="outerCompleterFunctionFooter"\n                                :editor-config="editorConfig"\n                                completion-mode="entity"\n                                mode="twig"\n                                :soft-wraps="true"\n                                :set-focus="false"\n                                @input="updateCurrentValue"\n                            ></sw-code-editor>\n                        </template>\n                    </sw-inherit-wrapper>\n                {% endblock %}\n\n                <sw-text-field\n                    :value="(feed ? feed.file : null) || getConfiguration.file"\n                    :disabled="true"\n                ></sw-text-field>\n            </sw-container>\n\n            <sw-button\n                v-if="feed"\n                variant="ghost"\n                size="small"\n                @click.prevent="generateFeed(feed)"\n                :isLoading="feedQueued"\n                :disabled="forceGenerateDisabled || !getFeedOptions().length || feedQueued"\n                v-tooltip="tooltipGenerate"\n            >{{ $tc(\'helret-hello-retail.comparison.generateFeed\', 0, {feedName}) }}</sw-button>\n        </sw-card>\n\n        <sw-card v-if="!getFeedOptions().length">\n            <sw-container>\n                <p>{{ $tc(\'helret-hello-retail.comparison.exportTypesMissing\') }}</p>\n            </sw-container>\n        </sw-card>\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","helloRetailTemplateService","helloRetailService","entityMappingService","acl"],mixins:[o.getByName("notification")],props:{salesChannel:{required:!0},isLoading:{type:Boolean,default:!1}},data(){return{feedType:"product",feed:null,isEntitiesLoading:!1,entities:null,feedQueued:!1}},computed:{salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},editorConfig(){return{enableBasicAutocompletion:!0}},outerCompleterFunctionHeader(){return this.outerCompleterFunction({helloRetailExport:"helloRetailExport"})},outerCompleterFunctionBody(){return this.outerCompleterFunction({helloRetailExport:"helloRetailExport"})},outerCompleterFunctionFooter(){return this.outerCompleterFunction({helloRetailExport:"helloRetailExport"})},getConfiguration(){return this.salesChannel.configuration.feeds[this.feedType]||(this.salesChannel.configuration.feeds[this.feedType]={name:this.feedType,headerTemplate:null,bodyTemplate:null,footerTemplate:null,file:`${this.feedType}.xml`,associations:[]}),this.salesChannel.configuration.feeds[this.feedType]},feedName(){return this.entities&&this.entities[this.feedType]&&this.entities[this.feedType].snippetKey?this.$tc(this.entities[this.feedType].snippetKey).toLowerCase():["product","category","order"].includes(this.feedType)?this.$tc(`helret-hello-retail.comparison.feed.${this.feedType}`).toLowerCase():""},tooltipGenerate(){return{message:!this.salesChannel||this.salesChannel.active?this.$tc("helret-hello-retail.detail.forceGenerateTooltipSave"):this.$tc("helret-hello-retail.detail.forceGenerateTooltipActivate"),appearance:"light",showOnDisabledElements:!0,disabled:!this.forceGenerateDisabled}},forceGenerateDisabled(){return!this.salesChannel||!this.salesChannel.active||this.salesChannelRepository.hasChanges(this.salesChannel)}},watch:{feedType(){this.setFeed()},entities(){this.setFeed()}},created(){this.loadFeedEntities().then(()=>this.setFeed())},methods:{loadFeedEntities(){return this.isEntitiesLoading=!0,this.helloRetailService.getExportEntities().then(e=>{this.entities=e.feeds}).finally(()=>{this.isEntitiesLoading=!1})},setFeed(){this.feed=this.entities[this.feedType]||null},outerCompleterFunction(e){return(function(t){return Object.keys(this.entityMappingService.getEntityMapping(t,{...e,[this.feedType]:this.feedType})).map(e=>({value:e}))}).bind(this)},getFeedOptions(){return this.entities&&Object.keys(this.entities).length?Object.keys(this.entities).map(e=>({label:this.$tc(this.entities[e].snippetKey),value:this.entities[e].feed})):[{label:this.$tc("helret-hello-retail.comparison.feed.product"),value:"product"},{label:this.$tc("helret-hello-retail.comparison.feed.category"),value:"category"},{label:this.$tc("helret-hello-retail.comparison.feed.order"),value:"order"}]},getInheritValue(e){return this.feed&&this.feed[e]||null},generateFeed(e){this.feedQueued=!0,this.helloRetailService.generateFeed(this.salesChannel.id,e.feed).then(e=>{e.error?this.createNotificationError({message:e.message}):this.createNotificationSuccess({message:e.message})}).finally(()=>{this.feedQueued=!1})}}}),Shopware.Module.register("hello-retail-tabs",{routeMiddleware(e,t){"sw.sales.channel.detail"===t.name&&t.children.push({name:"sw.sales.channel.detail.hello-retail-comparison",path:"hello-retail-comparison",component:"sw-sales-channel-detail-hello-retail-comparison",meta:{parentPath:"sw.sales.channel.list",privilege:"sales_channel.viewer"}}),e(t)}}),d(64),Shopware.Component.register("sw-cms-block-hello-retail",{template:'{% block sw_cms_block_hello_retail %}\n    <div class="sw-cms-block-hello-retail">\n        <img :src="\'helrethelloretail/static/img/HR_logo_primary1_no-payoff.png\' | asset">\n        <slot name="content">{% block sw_cms_block_hello_retail_slot_content %}{% endblock %}</slot>\n    </div>\n{% endblock %}\n'}),Shopware.Component.register("sw-cms-preview-hello-retail",{template:'{% block sw_cms_block_hello_retail_preview %}\n    <div class="sw-cms-preview-hello-retail">\n        <span>Don\'t use. This block is deprecated and will be removed in future versions.</span>\n    </div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"hello-retail",label:"sw-cms.blocks.commerce.hello-retail.label",category:"hello-retail",component:"sw-cms-block-hello-retail",previewComponent:"sw-cms-preview-hello-retail",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{content:{type:"text",default:{config:{content:{source:"static",value:"Enter Recommendation ID Here"}}}}}});let{Component:s}=Shopware;s.register("sw-cms-block-hello-retail-recommendations",{template:'{% block sw_cms_element_product_slider %}\n    <div class="hello-retail-recommendations">\n        <slot name="hrRecommendations"></slot>\n    </div>\n{% endblock %}'});let{Component:c}=Shopware;c.register("sw-cms-preview-hello-retail-recommendations",{template:'{% block sw_cms_block_hello_retail_preview %}\n    <div class="sw-cms-preview-hello-retail">\n        <img :src="assetFilter(\'/helrethelloretail/static/img/HR_logo_primary1_no-payoff.png\')" alt="">\n    </div>\n{% endblock %}\n',computed:{assetFilter(){return Shopware.Filter.getByName("asset")}}}),Shopware.Service("cmsService").registerCmsBlock({name:"hello-retail-recommendations",label:"sw-cms.blocks.hello-retail.hello-retail-recommendations.label",category:"hello-retail",component:"sw-cms-block-hello-retail-recommendations",previewComponent:"sw-cms-preview-hello-retail-recommendations",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"0px",marginRight:"0px",sizingMode:"boxed"},slots:{hrRecommendations:"hello-retail-recommendations"}}),d(800);let{Component:p}=Shopware;p.extend("sw-cms-el-hello-retail-recommendations","sw-cms-el-product-slider",{template:"{% block sw_cms_element_product_slider %}\n    {% parent %}\n{% endblock %}\n",created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("hello-retail-recommendations"),this.initElementData("hello-retail-recommendations")}}});let{Component:h}=Shopware;h.register("sw-cms-preview-hello-retail-recommendations",{template:'{% block sw_cms_block_hello_retail_preview %}\n    <div class="sw-cms-preview-hello-retail">\n        <span>Don\'t use. This block is deprecated and will be removed in future versions.</span>\n    </div>\n{% endblock %}\n'});let{Component:u}=Shopware;u.extend("sw-cms-el-config-hello-retail-recommendations","sw-cms-el-config-product-slider",{template:'\n{% block sw_cms_element_product_slider_config_content_product_assignment_type %}\n{% endblock %}\n\n\n{% block sw_cms_element_product_slider_config_content_products %}\n    <sw-text-field v-model:value="element.config.key.value" />\n{% endblock %}\n\n\n{% block sw_cms_element_product_slider_config_content_product_stream_select %}\n{% endblock %}\n\n\n{% block sw_cms_element_product_slider_config_content_product_stream_performance_hint %}\n{% endblock %}\n\n\n{% block sw_cms_element_product_slider_config_content_product_stream_preview %}\n{% endblock %}\n',methods:{createdComponent(){this.initElementConfig("hello-retail-recommendations")}}});let m=Shopware.Service("cmsService").getCmsElementConfigByName("product-slider").defaultConfig;Shopware.Service("cmsService").registerCmsElement({name:"hello-retail-recommendations",label:"sw-cms.el.hello-retail.hello-retail-recommendations.label",component:"sw-cms-el-hello-retail-recommendations",configComponent:"sw-cms-el-config-hello-retail-recommendations",previewComponent:"sw-cms-preview-hello-retail-recommendations",defaultConfig:{...m,products:{source:"static",value:[],required:!1},key:{source:"static",value:""},type:{source:"static",value:null},hierarchiesFilter:{source:"static",value:null}}}),d(26);let{Component:f}=Shopware;f.override("sw-cms-sidebar",{template:"{% block sw_cms_sidebar_block_overview_category_options %}\n    {% parent %}\n    <option value=\"hello-retail\">{{ $tc('sw-cms.detail.label.blockCategoryHelloRetail') }}</option>\n{% endblock %}\n\n"});let{Component:g}=Shopware;g.override("sw-cms-el-config-product-listing",{template:'{% block sw_cms_element_product_listing_config_info %}\n    <sw-text-field\n            v-model:value="element.config.helloRetailKey.value"\n            :label="$tc(\'sw-cms.elements.productListing.config.label.pageKey\')"\n            :placeholder="$tc(\'sw-cms.elements.productListing.config.placeholder.pageKey\')"\n    />\n    {% parent %}\n{% endblock %}\n'});let b=Shopware.Service("cmsService").getCmsElementConfigByName("product-listing");b.defaultConfig={...b.defaultConfig,helloRetailKey:{source:"static",value:""}}}()})();