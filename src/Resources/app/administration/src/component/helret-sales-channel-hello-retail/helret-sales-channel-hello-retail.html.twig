{% block sw_sales_channel_detail_base %}
    <div v-if="salesChannel" class="sw-sales-channel-detail-base">

        {% block sw_sales_channel_detail_base_general %}
            <sw-card :isLoading="loading"
                     :title="$tc('helret-hello-retail.sales-channel-types.base.titleGeneralSettings')">
                <sw-container columns="1fr 200px" gap="0px 30px">
                    {% block sw_sales_channel_detail_base_general_name %}
                        <sw-text-field
                            v-model="salesChannel.name"
                            type="text"
                            validation="required"
                            required
                            :error="salesChannelNameError"
                            :placeholder="placeholder(salesChannel, 'name', $tc('sw-sales-channel.detail.placeholderName'))"
                            :label="$tc('sw-sales-channel.detail.labelInputName')">
                        </sw-text-field>
                    {% endblock %}

                    {% block sw_sales_channel_detail_base_general_input_active %}
                        <sw-switch-field
                            v-model="salesChannel.active"
                            bordered
                            :label="$tc('sw-sales-channel.detail.labelInputActive')">
                        </sw-switch-field>
                    {% endblock %}
                </sw-container>

                {% block sw_sales_channel_detail_base_general_storefront %}
                    <sw-entity-single-select
                        ref="storefrontSalesChannelId"
                        v-model="salesChannel.configuration.storefrontSalesChannelId"
                        :label="$tc('helret-hello-retail.sales-channel-types.base.storefront')"
                        :criteria="storefrontSalesChannelCriteria"
                        labelProperty="name"
                        valueProperty="id"
                        entity="sales_channel"
                        required
                        @change="onStorefrontSelectionChange">
                    </sw-entity-single-select>
                {% endblock %}

                {% block sw_sales_channel_detail_base_general_storefront_domain %}
                    <sw-entity-single-select
                        v-model="salesChannel.configuration.salesChannelDomainId"
                        required
                        :label="$tc('helret-hello-retail.sales-channel-types.base.storefrontDomain')"
                        :criteria="storefrontSalesChannelDomainCriteria"
                        labelProperty="url"
                        valueProperty="id"
                        entity="sales_channel_domain"
                        :disabled="!salesChannel.configuration.salesChannelDomainId && !salesChannel.configuration.storefrontSalesChannelId"
                        @input="forceUpdate">
                    </sw-entity-single-select>
                {% endblock %}

                {% block sw_sales_channel_detail_base_general_feed_directory %}
                    <sw-text-field
                        :value="salesChannel.configuration.feedDirectory"
                        :label="$tc('helret-hello-retail.sales-channel-types.base.feedDirectory')"
                        disabled>
                        <template #suffix>
                            <sw-field-copyable :copyableText="salesChannel.configuration.feedDirectory"></sw-field-copyable>
                        </template>
                    </sw-text-field>
                {% endblock %}

            </sw-card>
        {% endblock %}

        <sw-card v-if="salesChannel.configuration.feeds" :isLoading="loading"
                 :title="$tc('helret-hello-retail.detail.titleFeedCard')">
            <sw-text-field v-for="feed in feedsList"
                           :key="feed"
                           :value="feedUrl(feed)"
                           disabled
                           type="text"
                           :placeholder="placeholder(salesChannel, `configuration.feeds.${feed}.file`, $tc('helret-hello-retail.detail.placeholderFeedLocation'))"
                           :label="$tc(`helret-hello-retail.detail.feeds.${feed}Title`)">
                <template slot="suffix">
                    <sw-field-copyable :copyableText="feedUrl(feed)"></sw-field-copyable>
                </template>
            </sw-text-field>
        </sw-card>


        {% block sw_sales_channel_detail_base_options_delete %}
            <sw-card :title="$tc('sw-sales-channel.detail.deleteModalTitle')"
                     v-if="salesChannel && acl.can('sales_channel.deleter')"
                     :isLoading="isLoading">
                <sw-container columns="1fr 175px" gap="0px 30px" class="sw-sales-channel-detail-base__delete-sales-channel">
                    <div class="sw-sales-channel-detail-base__description-text">
                        <strong>{{ $tc('global.default.warning') }}</strong>
                        {{ $tc('sw-sales-channel.detail.textDeleteSalesChannelWarning') }}
                    </div>

                    {% block sw_sales_channel_detail_base_options_delete_button %}
                        <div class="sw-sales-channel-detail-base__button-delete">
                            <sw-button
                                variant="danger"
                                size="small"
                                @click="showDeleteModal = true">
                                {{ $tc('sw-sales-channel.detail.buttonDelete') }}
                            </sw-button>
                        </div>
                    {% endblock %}
                </sw-container>

                {% block sw_sales_channel_detail_base_options_delete_modal %}
                    <sw-modal
                        v-if="showDeleteModal"
                        class="sw-sales-channel-detail-base__delete-modal"
                        ref="modal"
                        variant="small"
                        :title="$tc('sw-sales-channel.detail.deleteModalTitle')"
                        @modal-close="onCloseDeleteModal">

                        {% block sw_sales_channel_detail_options_delete_modal_confirmtext %}
                            <p class="sw-sales-channel-detail-base__delete-modal-confirm-text">{{ $tc('sw-sales-channel.detail.textConfirmDelete') }}</p>
                            <p class="sw-sales-channel-detail-base__delete-modal-name">
                                <strong>{{ placeholder(salesChannel, 'name') }}</strong>
                            </p>
                            <p>{{ $tc('sw-sales-channel.detail.textDeleteInfo') }}</p>
                        {% endblock %}

                        {% block sw_sales_channel_detail_options_delete_modal_footer %}
                            <template slot="modal-footer">
                                {% block sw_sales_channel_detail_options_delete_modal_abort %}
                                    <sw-button size="small" @click="onCloseDeleteModal">
                                        {{ $tc('sw-sales-channel.detail.buttonCloseDeleteModal') }}
                                    </sw-button>
                                {% endblock %}

                                {% block sw_sales_channel_detail_options_delete_modal_confirm %}
                                    <sw-button
                                        size="small"
                                        variant="danger"
                                        @click="onConfirmDelete">
                                        {{ $tc('sw-sales-channel.detail.buttonConfirmDelete') }}
                                    </sw-button>
                                {% endblock %}
                            </template>
                        {% endblock %}
                    </sw-modal>
                {% endblock %}
            </sw-card>
        {% endblock %}

    </div>
{% endblock %}
